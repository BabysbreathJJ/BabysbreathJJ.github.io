<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    

    <title>
      阿菁菁菁菁菁 | 阿菁菁菁菁菁
    </title>

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    
      <meta name="author" content="阿菁菁菁菁菁">
    
    

    <meta name="description" content="BOM（Brower Object Model）为浏览器对象模型,提供了很多对象，用户访问浏览器的功能，功能与网页内容无关，因为浏览器厂商会按照各自的想法随意对其进行扩展，所以，浏览器之间公有的对象就成为了事实上的标准。这些对象在浏览器中得以存在，是由于它们提供了与浏览器的互操作性。W3C为了把浏览器中的JS最基本的部分标准化，已经将BOM的主要方面纳入了H5的规范中。
window对象BOM的核">
<meta property="og:type" content="article">
<meta property="og:title" content="阿菁菁菁菁菁 | 阿菁菁菁菁菁">
<meta property="og:url" content="http://lijingjing.top/blog/2017/03/11/BOM/index.html">
<meta property="og:site_name" content="阿菁菁菁菁菁">
<meta property="og:description" content="BOM（Brower Object Model）为浏览器对象模型,提供了很多对象，用户访问浏览器的功能，功能与网页内容无关，因为浏览器厂商会按照各自的想法随意对其进行扩展，所以，浏览器之间公有的对象就成为了事实上的标准。这些对象在浏览器中得以存在，是由于它们提供了与浏览器的互操作性。W3C为了把浏览器中的JS最基本的部分标准化，已经将BOM的主要方面纳入了H5的规范中。
window对象BOM的核">
<meta property="og:image" content="http://lijingjing.top/images/frameset-dom.png">
<meta property="og:image" content="http://lijingjing.top/images/frameset-page.png">
<meta property="og:image" content="http://lijingjing.top/images/anotherframeset.png">
<meta property="og:updated_time" content="2017-03-11T07:59:45.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="阿菁菁菁菁菁 | 阿菁菁菁菁菁">
<meta name="twitter:description" content="BOM（Brower Object Model）为浏览器对象模型,提供了很多对象，用户访问浏览器的功能，功能与网页内容无关，因为浏览器厂商会按照各自的想法随意对其进行扩展，所以，浏览器之间公有的对象就成为了事实上的标准。这些对象在浏览器中得以存在，是由于它们提供了与浏览器的互操作性。W3C为了把浏览器中的JS最基本的部分标准化，已经将BOM的主要方面纳入了H5的规范中。
window对象BOM的核">
<meta name="twitter:image" content="http://lijingjing.top/images/frameset-dom.png">

    
    
      <link rel="icon" type="image/x-icon" href="/images/avatar.png">
    
    <link rel="stylesheet" href="/css/uno.css">
    <link rel="stylesheet" href="/css/highlight.css">
    <link rel="stylesheet" href="/css/archive.css">
    <link rel="stylesheet" href="/css/china-social-icon.css">


</head>
<body>

    
      <header class="panel-cover panel-cover--collapsed">


  <div class="panel-main">


    <div class="panel-main__inner panel-inverted">
    <div class="panel-main__content">

        
        <a href="/" title="link to homepage for 阿菁菁菁菁菁"><img src="/images/avatar.png" width="100" alt="阿菁菁菁菁菁 logo" class="panel-cover__logo logo" /></a>
        

        <h1 class="panel-cover__title panel-title"><a href="/" title="link to homepage">阿菁菁菁菁菁</a></h1>
        <hr class="panel-cover__divider" />

        
        <h2 class="panel-cover__description panel-description-small">
          Change takes time.
        </h2>
        <hr class="panel-cover__divider panel-cover__divider--secondary" />
        

        <div class="navigation-wrapper">


        <nav class="cover-navigation cover-navigation--primary">
          <ul class="navigation">
            
              
              <li class="navigation__item"><a href="/blog" title="" class="blog-button">文章</a></li>
            
              
              <li class="navigation__item"><a href="/archive" title="" class="">归档</a></li>
            
              
              <li class="navigation__item"><a href="/about" title="" class="">关于我</a></li>
            

          </ul>
        </nav>

      <!-- ----------------------------
To add a new social icon simply duplicate one of the list items from below
and change the class in the <i> tag to match the desired social network
and then add your link to the <a>. Here is a full list of social network
classes that you can use:

    icon-social-500px
    icon-social-behance
    icon-social-delicious
    icon-social-designer-news
    icon-social-deviant-art
    icon-social-digg
    icon-social-dribbble
    icon-social-facebook
    icon-social-flickr
    icon-social-forrst
    icon-social-foursquare
    icon-social-github
    icon-social-google-plus
    icon-social-hi5
    icon-social-instagram
    icon-social-lastfm
    icon-social-linkedin
    icon-social-medium
    icon-social-myspace
    icon-social-path
    icon-social-pinterest
    icon-social-rdio
    icon-social-reddit
    icon-social-skype
    icon-social-spotify
    icon-social-stack-overflow
    icon-social-steam
    icon-social-stumbleupon
    icon-social-treehouse
    icon-social-tumblr
    icon-social-twitter
    icon-social-vimeo
    icon-social-xbox
    icon-social-yelp
    icon-social-youtube
    icon-social-zerply
    icon-mail

-------------------------------->

<!-- add social info here -->



<nav class="cover-navigation navigation--social">
  <ul class="navigation">

    
      <!-- Github -->
      <li class="navigation__item">
        <a href="https://github.com/BabysbreathJJ" title="阿菁 on GitHub">
          <i class='icon icon-social-github'></i>
          <span class="label">GitHub</span>
        </a>
      </li>
      <li class="navigation__item">
        <a href="mailto:lijingjing1008@gmail.com" title="阿菁‘s e-mail">
          <i class='icon icon-mail'></i>
          <span class="label">Mail</span>
        </a>
      </li>
      <li class="navigation__item">
        <a href="http://weibo.com/2797656002/profile" title="阿菁 on Weibo">
          <i class='icon cs-icon-weibo'></i>
          <span class="label">Weibo</span>
        </a>
      </li>
    

    <!-- China social icon -->
    <!--

      <li class="navigation__item">
        <a href="" title="">
          <i class='icon cs-icon-douban'></i>
          <span class="label">Douban</span>
        </a>
      </li>



    -->



  </ul>
</nav>




      <nav class="cover-navigation cover-navigation--primary">
        <h2 class="panel-cover__description panel-description-small">
        友情链接
        </h2>
        <ul class="navigation">
          
            <li class="friend__item"><a target="_blank" href="http://gaocegege.com/Blog" title="" class="">高策</a></li>
          
            <li class="friend__item"><a target="_blank" href="http://lizheming.top/" title="" class="">黎哲明</a></li>
          
            <li class="friend__item"><a target="_blank" href="http://peipeili.cn/" title="" class="">李佩佩</a></li>
          

        </ul>
      </nav>


        </div>

      </div>

    </div>

    <div class="panel-cover--overlay"></div>
  </div>
</header>

      <span class="mobile btn-mobile-menu">
          <i class="icon icon-list btn-mobile-menu__icon"></i>
          <i class="icon icon-x-circle btn-mobile-close__icon hidden"></i>
      </span>
      <div class="content-wrapper">
          <div class="content-wrapper__inner entry">
              

<article class="post-container post-container--single">

  <header class="post-header">

    <h1 class="post-title">BOM</h1>

    

    <div class="post-meta">
      <time datetime="2017-03-11" class="post-meta__date date">2017-03-11</time>

      <span class="post-meta__tags tags">
          
            <font class="categories">
            &#8226; 分类:
            <a class="categories-link" href="/categories/JavaScript/">JavaScript</a>
            </font>
          

          
             &#8226; 标签:
            <font class="tags">
              <a class="tags-link" href="/tags/BOM/">BOM</a>
            </font>
          
        </span>
     </div>
    

  </header>

  <section id="post-content" class="article-content post">
    <p>BOM（Brower Object Model）为浏览器对象模型,提供了很多对象，用户访问浏览器的功能，功能与网页内容无关，因为浏览器厂商会按照各自的想法随意对其进行扩展，所以，浏览器之间公有的对象就成为了事实上的标准。这些对象在浏览器中得以存在，是由于它们提供了与浏览器的互操作性。W3C为了把浏览器中的JS最基本的部分标准化，已经将BOM的主要方面纳入了H5的规范中。</p>
<h2 id="window对象"><a href="#window对象" class="headerlink" title="window对象"></a>window对象</h2><p>BOM的核心对象是window，表示浏览器的一个实例，在浏览器中，window对象不仅是JS访问浏览器的一个接口，还是ECMAScript规定的Global对象。这意味着网页中定义的任何一个对象、变量和函数，都以window作为其Global对象，因此有权访问parseInt()等方法。</p>
<h3 id="全局作用域"><a href="#全局作用域" class="headerlink" title="全局作用域"></a>全局作用域</h3><p>由于window对象是ECMAScript中的Global对象，因此所有在全局作用域中声明的变量、函数都会成为window对象的属性和方法。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> age = <span class="number">29</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayAge</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	alert(<span class="keyword">this</span>.age);</div><div class="line">&#125;</div><div class="line"></div><div class="line">alert(<span class="built_in">window</span>.age); <span class="comment">//29</span></div><div class="line">sayAge(); <span class="comment">//29,由于sayAge()存在于全局作用域中，因此this.age被映射到window.age</span></div><div class="line"><span class="built_in">window</span>.sayAge(); <span class="comment">//29</span></div></pre></td></tr></table></figure></p>
<p><strong>定义全局变量和在window对象上直接定义属性还是有差别的：全局变量不能通过delete操作符删除，而直接定义在window对象上的属性，可以被其删除。</strong> 使用var语句添加的window属性有一个名为[[configurable]]的特性，这个特性的值为false，因此这样定义的属性不能通过delete操作符删除。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> age=<span class="number">29</span>;</div><div class="line"><span class="built_in">window</span>.color=<span class="string">"red"</span>;</div><div class="line"></div><div class="line"><span class="keyword">delete</span> <span class="built_in">window</span>.age;<span class="comment">//IE&lt;9时抛出异常，在其他浏览器中返回false</span></div><div class="line"></div><div class="line"><span class="keyword">delete</span> <span class="built_in">window</span>.color;<span class="comment">//在IE&lt;9时抛出异常，其他浏览器中返回true</span></div><div class="line"></div><div class="line">alert(<span class="built_in">window</span>.age);<span class="comment">// 29</span></div><div class="line">alert(<span class="built_in">window</span>.color);<span class="comment">// undefined</span></div></pre></td></tr></table></figure></p>
<p>尝试访问未声明的变量会抛出错误，但是通过查询window对象，可以知道某个可能为生命的变量是否存在。变量未声明去使用会抛出错误，但是对象中的属性没有声明去使用，返回undefined。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> newValue = oldValue;<span class="comment">//未声明oldValue抛出错误</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> newValue = <span class="built_in">window</span>.oldValue;<span class="comment">//由于这是一次属性查询，所以不会抛出错误</span></div></pre></td></tr></table></figure></p>
<h3 id="窗口关系及框架"><a href="#窗口关系及框架" class="headerlink" title="窗口关系及框架"></a>窗口关系及框架</h3><p>如果页面包含框架，那么每个框架都有自己的window对象，并且保存在frames集合中。在frame集合中，可以通过数值索引（从0开始，从左到右，从上到下）或者框架名称来访问相应的window对象。每个window对象都有一个name属性，其中包括框架的名称。<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span>Frameset Examples<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">frameset</span> <span class="attr">rows</span>=<span class="string">"160,*"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">frame</span> <span class="attr">sec</span>=<span class="string">"frame.htm"</span> <span class="attr">name</span>=<span class="string">"topFrame"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">frameset</span> <span class="attr">cols</span>=<span class="string">"50%,50%"</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">frame</span> <span class="attr">src</span>=<span class="string">"anotherframe.htm"</span> <span class="attr">name</span>=<span class="string">"leftFrame"</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">frame</span> <span class="attr">src</span>=<span class="string">"yetanotherframe.htm"</span> <span class="attr">name</span>=<span class="string">"rightFrame"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">frameset</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">frameset</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>下图显示了，在最高层窗口中，访问上述例子中每个框架的不同方式：<br><img src="/images/frameset-dom.png" alt="frameset-dom"><br><img src="/images/frameset-page.png" alt="frameset-page"></p>
<h4 id="top对象、parent对象和self对象"><a href="#top对象、parent对象和self对象" class="headerlink" title="top对象、parent对象和self对象"></a>top对象、parent对象和self对象</h4><p>top对象始终指向最高（最外）层的框架，也就是浏览器窗口，使用它可以保证在一个框架中正确地访问另一个框架。因为对于在一个框架中编写的任何代码，其中的window对象指向的都是那个框架的特定实例，而非最高层的框架。<br>与top相对的另一个window对象时parent，parent始终只想当前框架的直接上层框架。在某些情况下，parent可能等于top，但是没有框架的情况下，parent一定等于top（此时它们都等于window）。<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span>Frameset Examples<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">frameset</span> <span class="attr">cols</span>=<span class="string">"50%,50%"</span> <span class="attr">name</span>=<span class="string">"anotherframeset"</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">frame</span> <span class="attr">src</span>=<span class="string">"blue.html"</span> <span class="attr">name</span>=<span class="string">"blueFrame"</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">frame</span> <span class="attr">src</span>=<span class="string">"red.html"</span> <span class="attr">name</span>=<span class="string">"redFrame"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">frameset</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span>anotherframeset<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">frameset</span> <span class="attr">cols</span>=<span class="string">"50%,50%"</span> <span class="attr">name</span>=<span class="string">"anotherframeset"</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">frame</span> <span class="attr">src</span>=<span class="string">"blue.html"</span> <span class="attr">name</span>=<span class="string">"blueFrame"</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">frame</span> <span class="attr">src</span>=<span class="string">"red.html"</span> <span class="attr">name</span>=<span class="string">"redFrame"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">frameset</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span>blue<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="javascript"></span></div><div class="line">	<span class="built_in">document</span>.writeln(<span class="string">"window.name="</span>+<span class="built_in">window</span>.name+<span class="string">"&lt;br&gt;"</span>);</div><div class="line">	<span class="built_in">document</span>.writeln(<span class="string">"top.name="</span>+top.name+<span class="string">"&lt;br&gt;"</span>);</div><div class="line">	<span class="built_in">document</span>.writeln(<span class="string">"parent.name="</span>+parent.name+<span class="string">"&lt;br&gt;"</span>);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<p><img src="/images/anotherframeset.png" alt="anotherframeset"></p>
<p><strong>除非最高层窗口是通过window.open()打开的，否则其window对象的name属性不会包含任何值，所以上面的top.name都为空</strong></p>
<p>self对象始终指向window；实际上，self和window对象可以互换使用。引入self对象的目的只是为了与top和parent对象对象起来，因此不包含任何其他值。<br>上述所有对象都是window对象的属性，可以通过window.top、window.parent等形式来访问。所以，可以将不同层次的window对象连缀起来，例如window.parent.parent.frames[0]；</p>
<blockquote>
<p>在使用框架的情况下，浏览器中会存在多个Global对象，在每个框架中定义的全局变量会自动成为框架中window对象的属性。由于每个window对象都包含原声类型的构造函数，因此每个框架都有一套自己的构造函数，这些构造函数一一对应，但不相等。例如： top.Object并不等于top.frames[0].Object。这个问题会影响到对跨框架传递的对象使用instanceof操作符。</p>
</blockquote>
<h3 id="窗口位置"><a href="#窗口位置" class="headerlink" title="窗口位置"></a>窗口位置</h3><p>不同浏览区对于窗口位置的属性和方法的定义会有差别。IE/Safari/Opera/Chrome都提供screenLeft和screenTop属性，分别用于表示浏览器窗口相对于显示器屏幕左边和上边的信息。Firefox则提供screenX和screenY来获取相同的屏幕信息。Opera虽然提供screenX和screenY属性，但是和screenLeft和screenRight属性并不对应，所以不该在Opera中使用screenX和screenY。跨浏览器获取窗口左边和上边位置信息的代码如下：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> leftPos = (<span class="keyword">typeof</span> <span class="built_in">window</span>.screenLeft == <span class="string">'number'</span>) ? <span class="built_in">window</span>.screenLeft:<span class="built_in">window</span>.screenX;</div><div class="line"></div><div class="line"><span class="keyword">var</span> topPos = (<span class="keyword">typeof</span> <span class="built_in">window</span>.screenTop == <span class="string">'number'</span>) ? <span class="built_in">window</span>.screenTop:<span class="built_in">window</span>.screenY;</div></pre></td></tr></table></figure></p>
<p>使用moveTo()和moveBy()方法有可能将窗口精确地移动到一个新的位置。<br>moveTo(新位置的X坐标值，新位置的Y坐标值);<br>moveBy(水平方向移动的像素数，垂直方向上移动的像素数)；<br>以上两个方法，可能会被浏览器禁用，同时也只能对最外层的window对象使用，不适用于框架。<br><strong>实验发现上述两个方法对浏览器没有作用，window.open打开的窗口才有作用。</strong></p>
<h3 id="窗口大小"><a href="#窗口大小" class="headerlink" title="窗口大小"></a>窗口大小</h3><p>由于浏览器之间标准的不一致，无法确定浏览器窗口本身的大小，但是可以取得页面视口的大小,移动设备上window.innerHeight/window.innerWidth保存着可见视口，随着页面的缩放，值会改变。<br>navigator.userAgent可以检测用户使用的浏览器设备。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> pageWidth = <span class="built_in">window</span>.innerWidth;</div><div class="line"><span class="keyword">var</span> pageHeight = <span class="built_in">window</span>.innerHeight;</div><div class="line"><span class="keyword">if</span>(<span class="keyword">typeof</span> pageWidth !== <span class="string">'number'</span>)&#123;</div><div class="line">	<span class="keyword">if</span>(<span class="built_in">window</span>.compatMode == <span class="string">'CSS1Compat'</span>)&#123;<span class="comment">//标准模式下</span></div><div class="line">	pageWidth = <span class="built_in">document</span>.documentElement.clientWidth;</div><div class="line">	pageHeight = <span class="built_in">document</span>.documentElement.clientHeight;</div><div class="line">&#125;<span class="keyword">else</span>&#123;</div><div class="line">	pageWidth = <span class="built_in">document</span>.body.clientWidth;</div><div class="line">	pageHeight = <span class="built_in">document</span>.body.clientHeight;</div><div class="line">&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>resizeTo(浏览器窗口的新宽度，新高度)和resizeBy(新窗口与原窗口的宽度差，高度差)方法同上述的moveTo()和moveBy()</p>
<h3 id="导航和打开窗口"><a href="#导航和打开窗口" class="headerlink" title="导航和打开窗口"></a>导航和打开窗口</h3><p>window.open(要加载的URL，窗口目标，一个特性字符串，一个表示新页面是否取代浏览器路世纪路中当前加载页面的布尔值);通常只须传递第一个参数，最后一个参数只在不打开新窗口的情况下使用。<br>如果为window.open()函数传递第二个参数，而且该参数是已有窗口或框架的名称，那么就会在具有该名称的窗口或框架中加载第一个参数指定的URL。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">	<span class="built_in">window</span>.open(<span class="string">"http://www.baidu.com/"</span>,<span class="string">"topFrame"</span>);</div><div class="line"><span class="comment">//等同于 &lt;a href="http://www.baidu.com/" target="topFrame"&gt;&lt;/a&gt;</span></div></pre></td></tr></table></figure></p>
<p>如果有名为“topFrame”的窗口或者框架，就会在该窗口或框架加载这个URL；否则就会创建一个新窗口，并命名为”topFrame”。此外，第二个参数也可以是: _self,_parent,_top,_blank;</p>
<h4 id="弹出窗口"><a href="#弹出窗口" class="headerlink" title="弹出窗口"></a>弹出窗口</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> wroxWin = <span class="built_in">window</span>.open(<span class="string">"http://www.wrox.com/"</span>,<span class="string">"wroxWindow"</span>,<span class="string">"height=400,width=400,top=10,left=10,resizable=yes"</span>);</div><div class="line">                     </div><div class="line">wroxWin.resizeTo(<span class="number">500</span>,<span class="number">500</span>);</div><div class="line">wroxWin.moveTo(<span class="number">10</span>,<span class="number">10</span>);</div><div class="line">wroxWin.close();</div></pre></td></tr></table></figure>
<p>弹出窗口关闭后，窗口的引用仍然还在，但除了使用wroxin.closed属性检测是否关闭外，没有其他用处。<br>新创建的窗口有一个opner属性，保存打开它的原始窗口，但原始窗口中并没有这样的指针指向弹出窗口。窗口并不跟踪记录它们打开的弹出窗口，所以必要的时候只能手动实现跟踪。<br>有些浏览器会在独立的进程中运行每个交钱也，当一个标签页打开另一个标签页时，如果两个window对象之间需要彼此通信，那么新的标签页就不能运行在独立的进程中。在Chrome中，将新创建的标签页的opener属性置为null，则表示在单独的进程中运行标签页，即不需要与打开它的标签页进行通信。标签页之间一旦断开联系，就没有办法进行恢复。</p>
<h4 id="安全限制"><a href="#安全限制" class="headerlink" title="安全限制"></a>安全限制</h4><p>弹出窗口是否被屏蔽，包括浏览器本身屏蔽或者安装相应的程序进行屏蔽。浏览器本身屏蔽会将window.open()的返回值置为null，程序屏蔽会报错。检测弹出窗口是否被屏蔽并不会影响浏览器显示与被屏蔽的弹出窗口有关的信息。<br>检测代码如下：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> blocked = <span class="literal">false</span>;</div><div class="line"></div><div class="line"><span class="keyword">try</span>&#123;</div><div class="line">	<span class="keyword">var</span> wroxWin = <span class="built_in">window</span>.open(<span class="string">"http://www.wrox.com/"</span>,<span class="string">"_blank"</span>);</div><div class="line">	<span class="keyword">if</span>(wroxWin == <span class="literal">null</span>)&#123;</div><div class="line">		blocked = <span class="literal">true</span>;</div><div class="line">	&#125;</div><div class="line">&#125;<span class="keyword">catch</span>(ex)&#123;</div><div class="line">	blocked = <span class="literal">true</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">if</span>(blocked)&#123;</div><div class="line">	alert(<span class="string">"This popup was blocked!"</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h4 id="间歇调用和超时调用"><a href="#间歇调用和超时调用" class="headerlink" title="间歇调用和超时调用"></a>间歇调用和超时调用</h4><p>间歇调用，每个一段时间就会执行指定代码；超时调用，设置一个时间，指定时间后执行相关代码。<br>setInterval(function,time);//间歇调用<br>setTimeout(function,time);//超时调用，也可以传递字符串，但性能差，不建议使用</p>
<p>JS是一个单线程序的解释器，一定时间内只能执行一段代码，为了控制要执行的代码，就有一个JS任务队列。任务会按照依次添加到队列中顺序执行，setTimeout的第二个参数就是告诉JS要过多长时间，把当前任务添加到任务队列中。如果队列是空的，那么添加的代码会立即执行；如果队列不为空，那么就要等前面的代码执行完了之后再执行。</p>
<p>setTimeout()会返回一个数值ID，这个超市调用IS是计划执行代码的唯一标识，可以通过它在时间未到之前取消尚未执行的超市调用计划：clearTimeout(tiemoutId)。</p>
<p>超时调用的代码都是在全局作用域中执行，因此函数中的this在非严格模式下指向window对象，在严格模式下是undefined。</p>
<p>使用超时调用来模拟间歇调用时一种最佳模式。因为在使用超时调用时没必要跟踪超时调用ID，每次执行完后，不设置另一次调用，就会自动停止。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> num = <span class="number">0</span>;</div><div class="line"><span class="keyword">var</span> max = <span class="number">10</span>;</div><div class="line"><span class="keyword">var</span> intervalId = <span class="literal">null</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">incrementNumber</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	num++;</div><div class="line">	<span class="keyword">if</span>(num == max)&#123;</div><div class="line">		clearInterval(intervalId);</div><div class="line">		alert(<span class="string">"done!"</span>);</div><div class="line">	&#125; </div><div class="line">	</div><div class="line">&#125;</div><div class="line"></div><div class="line">setInterval(incrementNumber,<span class="number">1000</span>);</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> num = <span class="number">0</span>;</div><div class="line"><span class="keyword">var</span> max = <span class="number">10</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">incrementNumber</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	num++;</div><div class="line">	<span class="keyword">if</span>(num &lt; max)&#123;</div><div class="line">		setTimeout(incrementNumber,<span class="number">1000</span>);</div><div class="line">	&#125; </div><div class="line">	<span class="keyword">else</span>&#123;</div><div class="line">	alert(<span class="string">"done!"</span>)</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">setTimeOut(incrementNumber,<span class="number">1000</span>);</div></pre></td></tr></table></figure>
<h4 id="系统对话框"><a href="#系统对话框" class="headerlink" title="系统对话框"></a>系统对话框</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">alert(string);</div><div class="line"><span class="keyword">var</span> confirmResult = confirm(string);<span class="comment">//true or false</span></div><div class="line"><span class="keyword">var</span> promptResult = prompt(<span class="string">"要显示的文本"</span>，“文本输入域的默认值”);<span class="comment">//cancel后返回null，其余返回输入的文本内容</span></div><div class="line"></div><div class="line"><span class="built_in">window</span>.print();<span class="comment">//弹出打印窗口</span></div><div class="line"><span class="built_in">window</span>.find();<span class="comment">//弹出当前页面查找窗口</span></div></pre></td></tr></table></figure>
<h2 id="location对象"><a href="#location对象" class="headerlink" title="location对象"></a>location对象</h2><p>提供与当前窗口中加载的文档有关的信息，还提供了一些导航功能。location既是window对象的属性，也是document对象的属性。即，window.location和document.location引用的是同一个对象。<br>location对象不仅保存当前文档信息，还可以将URL解析为独立的片段，让开发人员通过不同的属性访问这些片段。</p>
<table>
<thead>
<tr>
<th>属性名</th>
<th>例子</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>hash</td>
<td>“#contents”</td>
<td>返回URL中的hash(#号后跟0或多个字符串)，如果URL中不包含散列，返回空字符串</td>
</tr>
<tr>
<td>host</td>
<td>“www.wrox.com:80”</td>
<td>返回服务器名称和端口号（如果有）</td>
</tr>
<tr>
<td>hostname</td>
<td>“www.worx.com”</td>
<td>返回不带端口号的服务器名称</td>
</tr>
<tr>
<td>href</td>
<td>“<a href="http://www.wrox.com/" target="_blank" rel="external">http://www.wrox.com/</a>“</td>
<td>返回当前加载页面的完成URL。而location对象的toString()方法也返回这个值</td>
</tr>
<tr>
<td>pathname</td>
<td>“/WileyCDA”</td>
<td>返回URL中的目录和（或）文件名</td>
</tr>
<tr>
<td>port</td>
<td>“8080”</td>
<td>返回URL中执行的端口号，如果URL中不包括端口号，则这个属性返回空字符串</td>
</tr>
<tr>
<td>protocol</td>
<td>“http:”</td>
<td>返回页面使用的协议。“http:”或者”https:”</td>
</tr>
<tr>
<td>search</td>
<td>“?q=javascript”</td>
<td>返回URL的查询字符串，这个字符串以问号开头</td>
</tr>
</tbody>
</table>
<h3 id="查询字符串参数"><a href="#查询字符串参数" class="headerlink" title="查询字符串参数"></a>查询字符串参数</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getQueryStringArgs</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">var</span> qs = (location.search.length &gt; <span class="number">0</span>) ? location.search.substring(<span class="number">1</span>) : <span class="string">""</span>;</div><div class="line">  <span class="keyword">var</span> args = &#123;&#125;;</div><div class="line">  </div><div class="line">  <span class="keyword">var</span> items = qs.length &gt; <span class="number">0</span> ? qs.split(<span class="string">'&amp;'</span>):[];</div><div class="line">  <span class="keyword">var</span> item = <span class="literal">null</span>;</div><div class="line">  <span class="keyword">var</span> name = <span class="literal">null</span>;</div><div class="line">  <span class="keyword">var</span> value = <span class="literal">null</span>;</div><div class="line">  <span class="keyword">var</span> len = items.length;</div><div class="line">  </div><div class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; len; i++)&#123;</div><div class="line">  		item = items[i].split(<span class="string">'='</span>);</div><div class="line">  		name = <span class="built_in">decodeURIComponent</span>(item[<span class="number">0</span>]);</div><div class="line">  		value = <span class="built_in">decodeURIComponent</span>(item[<span class="number">1</span>]);</div><div class="line">  		</div><div class="line">  		<span class="keyword">if</span>(name.length)&#123;</div><div class="line">  			args[name] = value;</div><div class="line">  		&#125;	</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> args;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> args = getQueryStringArgs();</div><div class="line"><span class="comment">// ?q=javascript&amp;num=10</span></div><div class="line">alert(args[<span class="string">"q"</span>]);<span class="comment">//"javascript"</span></div><div class="line">alert(args[<span class="string">"num"</span>]);<span class="comment">//"10"</span></div></pre></td></tr></table></figure>
<h3 id="位置操作"><a href="#位置操作" class="headerlink" title="位置操作"></a>位置操作</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">location.assign(URL);<span class="comment">//立即打开新的URL，逼格在浏览器的历史记录中生成一条记录</span></div><div class="line"></div><div class="line"><span class="comment">//下面的方法，实际上调用的都是location.assign(URL)</span></div><div class="line"><span class="built_in">window</span>.location = URL;</div><div class="line">location.href = URL;</div></pre></td></tr></table></figure>
<p>通过修改location对象的属性，可以改变当前加载的页面，每次修改location的属性（hash除外），页面都会以新的URL重新加载。hash只是在原有的URL后加hash内容。</p>
<p>location.replace(URL);不会在历史记录中生成新记录，所以无法通过导航的后退回到之前的页面。</p>
<p>location.reload();不传入参数的情况下，以最有效的方式重新加载。如果页面自上次请求以来并没有改变过，页面就会从浏览器缓存中重新加载；强制从服务器重新加载，则需要传递参数true:location.reload(true);</p>
<h2 id="navigator对象"><a href="#navigator对象" class="headerlink" title="navigator对象"></a>navigator对象</h2><p>通过navigator对象的属性，可以检测浏览器系统所在相关信息，以及浏览器品牌版本等信息。</p>
<h3 id="检测插件"><a href="#检测插件" class="headerlink" title="检测插件"></a>检测插件</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//检测插件（IE中无效）</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">hasPlugin</span>(<span class="params">name</span>)</span>&#123;</div><div class="line">	<span class="keyword">var</span> name = name.toLowerCase();</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; navigator.plugins.length; i++ )&#123;</div><div class="line">		<span class="keyword">if</span>(navigator.plugins[i].name.toLowerCase().indexOf(name) &gt; <span class="number">-1</span>)&#123;</div><div class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">alert(hasPlugin(<span class="string">"Flash"</span>));</div><div class="line">alert(hasPlugin(<span class="string">"QuickTime"</span>));</div><div class="line"></div><div class="line"><span class="comment">//检测插件，IE</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">hasIEPlugin</span>(<span class="params">name</span>)</span>&#123;</div><div class="line">	<span class="keyword">try</span>&#123;</div><div class="line">	<span class="comment">//在IE中检测插件的唯一方法是使用专有的ActiveObject类型，并尝试创建一个特定插件的实例</span></div><div class="line">		<span class="keyword">new</span> ActiveObject(name);</div><div class="line">		<span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">	&#125;<span class="keyword">catch</span>(ex)&#123;</div><div class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">//IE是以COM对象使用唯一标识符来标识插件的</span></div><div class="line">alert(hasPlugin(<span class="string">"ShockwaveFlash.ShockwaveFlash"</span>));</div><div class="line"></div><div class="line">alert(hasPlugin(<span class="string">"QuickTime,QuickTime"</span>));</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">//通用的方法，为每个插件单独写函数测试</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">hasFlash</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	<span class="keyword">var</span> result = hasPlugin(<span class="string">"Flash"</span>);</div><div class="line">	<span class="keyword">if</span>(!result)&#123;</div><div class="line">		result = hasIEPlugin(<span class="string">"ShockwaveFlash.ShockwaveFlash"</span>);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> result;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>plugins集合有一个名为refresh()的方法，用于刷新plugins以反映最新安装的插件。这个方法接收一个参数，表示是否应该重新加载页面的一个布尔值。如果值为true,则会重新加载包含插件的所有页面；否则，只更新plugins集合，不重新加载页面。</p>
<p>###注册处理程序<br>navigator的registerContentHandler()和registerProtocolHandler()方法、这两个方法可以让一个站点指明可以处理特定类型的信息。RSS源、ftp或mailto等的处理程序等。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">navigator.registerContentHandler(<span class="string">"application/rss+xml"</span>,<span class="string">"http://www.somereader.com?feed=%s"</span>,<span class="string">"Some Reader"</span>);</div><div class="line"><span class="comment">//第一个参数是RSS源的MIME类型、第二个参数是应该接收RSS源URL的URL，其中%s表示RSS源URL,由浏览器自动插入。当下一次请求RSS源时，浏览器会打开指定的URL，而相应的Web应用程序将以适当方式来处理该请求。</span></div></pre></td></tr></table></figure></p>
<h2 id="screen对象"><a href="#screen对象" class="headerlink" title="screen对象"></a>screen对象</h2><p>screen对象对编程作用不大。基本上只表明客户端的能力，包括浏览器窗口外部的显示器的信息，如像素宽度和高度等。</p>
<h2 id="history对象"><a href="#history对象" class="headerlink" title="history对象"></a>history对象</h2><p>history对象是window对象的属性。因此每个浏览器窗口、每个标签乃至每个框架，都有自己的history对象与特定的window对象关联。使用go()方法，可以再用户的历史记录中任意跳转。正数表示向前跳转，负数表示向后跳转。如果传递的是字符串，则会跳转到历史记录中包含该字符串的第一个位置，可能后退也可能前进，要看哪个位置最近。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">history.go();</div><div class="line">history,back();</div><div class="line">history.forward();</div><div class="line">history.length;</div></pre></td></tr></table></figure></p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>浏览器对象模型（BOM）以window对象为依托，表示浏览器窗口以及页面可见区域。同时window对象还是Global对象，因为所有全局变量和函数都是它的属性，且所有原生的构造函数及其他函数也都存在不它的命名空间下。</p>

  </section>

  
  

<section class="post-comments">

    <div class="ds-thread" data-thread-key="blog/2017/03/11/BOM/"></div>

    <script type="text/javascript">
      var duoshuoQuery = {short_name:"lijingjing"};
      (function() {
        var ds = document.createElement('script');
        ds.type = 'text/javascript';ds.async = true;
        ds.src = '//static.duoshuo.com/embed.js';
        ds.charset = 'UTF-8';
        (document.getElementsByTagName('head')[0] 
        || document.getElementsByTagName('body')[0]).appendChild(ds);
      })();
    </script> 

</section>


</article>

              <footer class="footer">

    <span class="footer__copyright">  &copy; 2017 阿菁菁菁菁菁 | 由<a href="https://hexo.io/">Hexo</a>强力驱动 | 主题<a href="https://github.com/someus/huno">Huno</a></span>

</footer>

          </div>
      </div>

    



    <!-- js files -->
    <script src="/js/jquery.min.js"></script>
    <script src="/js/main.js"></script>
    <script src="/js/scale.fix.js"></script>


    

    <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript"> 
        $(document).ready(function(){
            MathJax.Hub.Config({ 
                tex2jax: {inlineMath: [['[latex]','[/latex]'], ['\\(','\\)']]} 
            });
        });
    </script>


    

    <script src="/js/awesome-toc.min.js"></script>
    <script>
        $(document).ready(function(){
            $.awesome_toc({
                overlay: true,
                contentId: "post-content",
            });
        });
    </script>


    
    
    <!--kill ie6 -->
<!--[if IE 6]>
  <script src="//letskillie6.googlecode.com/svn/trunk/2/zh_CN.js"></script>
<![endif]-->

</body>
</html>
